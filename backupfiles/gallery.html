<!-- <?php
session_start();

// Redirect if not logged in
if (!isset($_SESSION['account_id'])) {
    header("Location: ../index.php");
    exit;
}

$account_id = $_SESSION['account_id'];

// Show popup if redirected with ?welcome=true
// $showWelcome = isset($_GET['welcome']) && $_GET['welcome'] === 'true';
?> -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gallery</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@700&family=Jost:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital@0;1&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="gallery.css" />
</head>
<body>
  <header>
    <div class="tabFont"><a href="#">ELIZABETH FOUNDATION</a></div>

    <!-- <?php
    session_start();
    $current_page = basename($_SERVER['PHP_SELF']);
    ?> -->
    <nav>
      <a href="gallery.php">HOME</a>
      <a href="fundraisers.php">FUNDRAISERS</a>
      <a href="initiate.php">INITIATE</a>
      <a href="#">LOG OUT</a>
    </nav>
  </header>

<!-- 🖼️ GALLERY ENTRY 1 -->
<div class="ig-feed">

  <!-- 🖼️ Post 1 -->
  <div class="ig-post">
    <div class="ig-carousel">
      <div class="ig-track">
        <img src="../img/image1.jpg" class="ig-img" alt="Image 1">
        <img src="../img/image1.jpg" class="ig-img" alt="Image 1">
        <img src="../img/image1.jpg" class="ig-img" alt="Image 1">
      </div>
      <button class="ig-btn left">&#10094;</button>
      <button class="ig-btn right">&#10095;</button>
      <div class="ig-dots"></div>
    </div>
    <div class="ig-info">
      <p class="ig-caption">🎉 Fundraising for Hope: Helping the Community!</p>
      <p class="ig-date">October 10, 2025</p>
    </div>
  </div>

  <!-- 🖼️ Post 2 -->
  <div class="ig-post">
    <div class="ig-carousel">
      <div class="ig-track">
        <img src="../img/image4.jpg" class="ig-img" alt="Image 1">
      </div>
      <button class="ig-btn left">&#10094;</button>
      <button class="ig-btn right">&#10095;</button>
      <div class="ig-dots"></div>
    </div>
    <div class="ig-info">
      <p class="ig-caption"  onclick="toggleCaption(this)">🌊 Clean Water Project: Bringing safe water to all! 🌊 Clean Water Project: Bringing safe water to all! 🌊 Clean Water Project: Bringing safe water to all! 🌊 Clean Water Project: Bringing safe water to all! 🌊 Clean Water Project: Bringing safe water to all! 🌊 Clean Water Project: Bringing safe water to all! </p>
      <p class="ig-date">October 11, 2025</p>
    </div>
  </div>


</div>

 <!-- Floating Add Post Button -->
  <button class="add-post-btn" id="openModalBtn">＋</button>

  <!-- Modal -->
  <div class="post-modal" id="postModal">
    <div class="post-modal-content">
      <h3>Add New Post</h3>

      <textarea placeholder="What's on your mind?" rows="4"></textarea>

      <label class="upload-label">
        <input type="file" id="photoInput" accept="image/*" hidden>
        <img src="https://cdn-icons-png.flaticon.com/512/833/833281.png" alt="Attach" class="attach-icon">
        Add Photo
      </label>

      <div id="photoPreview"></div>

      <div class="modal-actions">
        <button id="cancelModalBtn" class="cancel">Cancel</button>
        <button class="submit">Post</button>
      </div>
    </div>
  </div>






  <footer>
    <p>&copy; 2025 Elizabeth Foundation. All Rights Reserved.</p>
  </footer>

  <script>
const openBtn = document.getElementById('openModalBtn');
const cancelBtn = document.getElementById('cancelModalBtn');
const modal = document.getElementById('postModal');
const photoInput = document.getElementById('photoInput');
const photoPreview = document.getElementById('photoPreview');

// Toggle modal
openBtn.addEventListener('click', () => {
  modal.style.display = modal.style.display === 'block' ? 'none' : 'block';
});

// Cancel button
cancelBtn.addEventListener('click', () => {
  modal.style.display = 'none';
  photoPreview.innerHTML = ''; // Clear preview when closing
  photoInput.value = '';       // Reset file input
});

// Preview photo
photoInput.addEventListener('change', function() {
  const file = this.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      photoPreview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
    }
    reader.readAsDataURL(file);
  } else {
    photoPreview.innerHTML = '';
  }
});

// --- Instagram-style Carousel Logic ---
document.querySelectorAll('.ig-post').forEach(post => {
  const track = post.querySelector('.ig-track');
  const images = track.querySelectorAll('.ig-img');
  const prevBtn = post.querySelector('.ig-btn.left');
  const nextBtn = post.querySelector('.ig-btn.right');
  const dotsContainer = post.querySelector('.ig-dots');
  let index = 0;

  // Create dots dynamically
  images.forEach((_, i) => {
    const dot = document.createElement('span');
    dot.classList.add('ig-dot');
    if (i === 0) dot.classList.add('active');
    dot.addEventListener('click', () => {
      index = i;
      updateCarousel();
    });
    dotsContainer.appendChild(dot);
  });

  const dots = dotsContainer.querySelectorAll('.ig-dot');

  function updateCarousel() {
    // Moves the image track left/right
    track.style.transform = `translateX(-${index * 100}%)`;
    dots.forEach(dot => dot.classList.remove('active'));
    dots[index].classList.add('active');
  }

  nextBtn.addEventListener('click', () => {
    index = (index + 1) % images.length;
    updateCarousel();
  });

  prevBtn.addEventListener('click', () => {
    index = (index - 1 + images.length) % images.length;
    updateCarousel();
  });
});

</script>




</body>
</html>